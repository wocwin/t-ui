(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{856:function(e,t,l){"use strict";l.r(t);var a=l(17),i=l(34),s=(l(25),{name:"dhFormDemo",data:function(){return{dialogSelectEnt:!1,title:"新增数据",formOpts:{ref:null,formData:{account:null,password:null,sex:null,hobby:null,createDate:null,valDate1:null,valDate2:null,valDate3:null,desc:null,status:null},fieldList:[{label:"账号",value:"account",type:"input",comp:"el-input",event:"account"},{label:"密码",value:"password",type:"password",comp:"el-input",bind:{"show-password":!0},isHideItem:!1},{label:"性别",value:"sex",placeholder:"TSelect单选",isSelfCom:!0,comp:"t-select",bind:{valueKey:"value"}},{label:"状态",value:"status",placeholder:"TSelect单选",isSelfCom:!0,comp:"t-select",bind:{valueKey:"value"}},{label:"爱好",value:"hobby",placeholder:"TSelect多选",isSelfCom:!0,comp:"t-select",list:"hobbyList",bind:{multiple:!0,valueKey:"value"}},{label:"年份",value:"createDate",placeholder:"TDatePicker选择年份",bind:{type:"year"},comp:"t-date-picker"},{label:"月份范围",value:"valDate1",comp:"t-date-picker",bind:{type:"monthrange",isPickerOptions:!0}},{label:"日期范围",value:"valDate2",comp:"t-date-picker",bind:{type:"daterange",isPickerOptions:!0}},{label:"时间范围",value:"valDate3",comp:"t-date-picker",bind:{type:"datetimerange",isPickerOptions:!0}},{label:"描述",value:"desc",type:"textarea",comp:"el-input",widthSize:1}],rules:{sex:[{required:!0,message:"请选择性别",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],hobby:[{required:!0,message:"请至少选择一个爱好",trigger:"change"}]}},hobbyList:[],sexList:[],statusList:[]}},created:function(){this.getSelectList()},methods:{getSelectList:function(){var e=this;this.hobbyList=[{label:"吉他",value:"0"},{label:"看书",value:"1"},{label:"美剧",value:"2"},{label:"旅游",value:"3"},{label:"音乐",value:"4"}],this.sexList=[{label:"女",value:1},{label:"男",value:0}],this.statusList=[{label:"启用",value:1},{label:"停用",value:0}],this.formOpts.fieldList.map((function(t){switch(t.value){case"sex":t.bind.optionSource=e.sexList;break;case"status":t.bind.optionSource=e.statusList;break;case"hobby":t.bind.optionSource=e.hobbyList}}))},add:function(){this.title="新增数据",this.formOpts.fieldList.map((function(e){"password"===e.value&&(e.isHideItem=!1)})),this.dialogSelectEnt=!0},edit:function(){this.title="编辑数据",this.formOpts.fieldList.map((function(e){"password"===e.value&&(e.isHideItem=!0)})),this.dialogSelectEnt=!0},submit:function(){var e=this;return Object(i.a)(Object(a.a)().mark((function t(){var l,i,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.dialogForm.validate();case 3:if(l=t.sent,i=l.valid,s=l.formData,console.log("表单校验是否通过",i),console.log("获取的表单数据:",s),i){t.next=10;break}return t.abrupt("return");case 10:setTimeout((function(){e.dialogSelectEnt=!1}),2e3),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}}),o=l(2),n=Object(o.a)(s,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("t-layout-page",[l("t-layout-page-item",[l("el-button",{attrs:{type:"danger"},on:{click:e.add}},[e._v("新增")]),e._v(" "),l("el-button",{attrs:{type:"danger"},on:{click:e.edit}},[e._v("编辑")]),e._v(" "),l("t-dialog",{staticClass:"ent-choose",attrs:{title:e.title,width:"40%",visible:e.dialogSelectEnt},on:{"update:visible":function(t){e.dialogSelectEnt=!1}}},[l("t-form",{ref:"dialogForm",attrs:{"ref-obj":e.formOpts.ref,formOpts:e.formOpts,widthSize:1},on:{"update:refObj":function(t){return e.$set(e.formOpts,"ref",t)},"update:ref-obj":function(t){return e.$set(e.formOpts,"ref",t)}}}),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogSelectEnt=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports}}]);