(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{842:function(e,t,a){"use strict";a.r(t);var l=a(17),r=a(34),n=(a(25),a(8),a(27),a(29),a(775)),s={name:"dhFormDemo",data:function(){var e=this;return{hobbyList:[],sexList:[],statusList:[],formOpts:{ref:null,formData:{sex:null,hobby:null,createDate:null,valDate1:null,valDate2:null,valDate3:null,desc:null,deptCode:null,deptCode1:null,deptCode2:null,status1:null,status:null},fieldList:[{label:"性别",value:"sex",placeholder:"TSelect单选",ref:"sexRef",comp:"t-select",isSelfCom:!0,bind:{optionSource:[]},eventHandle:{change:function(t,a){return e.changeSex(t,a)}}},{label:"状态(继承list)",value:"status1",placeholder:"TSelect继承list方式",ref:"status1Ref",type:"select-arr",comp:"t-select",list:"statusList",arrLabel:"label",arrKey:"key",bind:{}},{label:"状态",value:"status",placeholder:"TSelect单选",comp:"t-select",ref:"statusRef",isSelfCom:!0,bind:{optionSource:[]}},{label:"爱好",value:"hobby",placeholder:"TSelect多选",comp:"t-select",ref:"hobbyRef",isSelfCom:!0,bind:{multiple:!0,optionSource:[]}},{label:"部门",value:"deptCode",placeholder:"TCascader使用",comp:"t-cascader",ref:"TCascaderRef",isSelfCom:!0,bind:{props:{emitPath:!1,children:"children",label:"deptName",value:"deptNum",checkStrictly:!0},options:[]}},{label:"部门1",value:"deptCode1",placeholder:"el-cascader使用",comp:"el-cascader",ref:"ElCascaderRef",isSelfCom:!0,bind:{props:{emitPath:!1,children:"children",label:"deptName",value:"deptNum",checkStrictly:!0},options:[]}},{label:"下拉选择表格",value:"deptCode2",placeholder:"t-select-table使用",comp:"t-select-table",ref:"selectTableRef-deptCode2",isSelfCom:!0,bind:{isKeyup:!0,maxHeight:400,keywords:{label:"name",value:"id"},table:{data:[]},columns:[{label:"物料编号",width:"100px",prop:"code",align:"left"},{label:"物料名称",width:"149px",prop:"name"},{label:"规格",width:"149px",prop:"spec"},{label:"单位",width:"110px",prop:"unitName"},{label:"物料编号1",width:"149px",prop:"code"},{label:"物料名称1",width:"149px",prop:"name"}]},eventHandle:{radioChange:function(t){return e.radioChange(t)}}},{label:"年份",value:"createDate",placeholder:"TDatePicker选择年份",type:"year",ref:"createDateRef",bind:{type:"year"},comp:"t-date-picker"},{label:"月份范围",value:"valDate1",comp:"t-date-picker",ref:"valDate1Ref",bind:{type:"monthrange",isPickerOptions:!0}},{label:"日期范围",value:"valDate2",comp:"t-date-picker",ref:"valDate2Ref",bind:{type:"daterange",isPickerOptions:!0}},{label:"时间范围",value:"valDate3",comp:"t-date-picker",ref:"valDate3Ref",bind:{type:"datetimerange",isPickerOptions:!0}},{label:"描述",value:"desc",type:"textarea",ref:"descRef",comp:"el-input",widthSize:1}],operatorList:[{label:"提交",type:"danger",fun:this.submitForm},{label:"重置",type:"primary",fun:this.resetForm},{label:"重置下拉表格",bind:{type:"primary"},fun:function(){return e.resetValue("selectTableRef-deptCode2")}},{label:"重置性别",bind:{type:"primary"},fun:function(){return e.resetValue("sexRef")}},{label:"重置状态1",bind:{type:"primary"},fun:function(){return e.resetValue("status1Ref")}},{label:"重置状态",bind:{type:"primary"},fun:function(){return e.resetValue("statusRef")}},{label:"重置爱好",bind:{type:"primary"},fun:function(){return e.resetValue("hobbyRef")}},{label:"重置TCascader",bind:{type:"primary"},fun:function(){return e.resetValue("TCascaderRef","deptCode")}},{label:"重置elCascader",bind:{type:"primary"},fun:function(){return e.resetValue("ElCascaderRef","deptCode1")}},{label:"重置年份",bind:{type:"primary"},fun:function(){return e.resetValue("createDateRef")}},{label:"重置月份范围",bind:{type:"primary"},fun:function(){return e.resetValue("valDate1Ref")}},{label:"重置日期范围",bind:{type:"primary"},fun:function(){return e.resetValue("valDate2Ref")}},{label:"重置时间范围",bind:{type:"primary"},fun:function(){return e.resetValue("valDate3Ref")}},{label:"重置描述",bind:{type:"primary"},fun:function(){return e.resetValue("descRef")}}],listTypeInfo:{statusList:[]}},allRefs:{}}},created:function(){var e=this;return Object(r.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSelectList();case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){console.log("所有refs",this.allRefs)},methods:{getSelectList:function(){var e=this;this.hobbyList=[{label:"吉他",key:"0"},{label:"看书",key:"1"},{label:"美剧",key:"2"},{label:"旅游",key:"3"},{label:"音乐",key:"4"}],this.sexList=[{label:"女",key:1},{label:"男",key:0}],this.formOpts.listTypeInfo.statusList=[{label:"启用",key:1},{label:"停用",key:0}],this.statusList=[{label:"启用",key:1},{label:"停用",key:0}];var t=[{id:1,code:1,name:"物料名称1",spec:"物料规格1",unitName:"吨"},{id:2,code:2,name:"物料名称2",spec:"物料规格2",unitName:"吨"},{id:3,code:3,name:"物料名称3",spec:"物料规格3",unitName:"吨"},{id:4,code:4,name:"物料名称4",spec:"物料规格4",unitName:"吨"},{id:5,code:5,name:"物料名称5",spec:"物料规格5",unitName:"吨"},{id:6,code:6,name:"物料名称6",spec:"物料规格6",unitName:"吨"},{id:7,code:7,name:"物料名称7",spec:"物料规格7",unitName:"吨"},{id:8,code:8,name:"物料名称8",spec:"物料规格8",unitName:"吨"},{id:9,code:9,name:"物料名称9",spec:"物料规格9",unitName:"吨"}],a=n;this.formOpts.fieldList.map((function(l){switch(l.value){case"sex":l.bind.optionSource=e.sexList;break;case"status":l.bind.optionSource=e.statusList;break;case"hobby":l.bind.optionSource=e.hobbyList;break;case"deptCode":case"deptCode1":l.bind.options=a.data;break;case"deptCode2":l.bind.table.data=t}}))},changeSex:function(e,t){console.log("选择性别change事件",e,t)},radioChange:function(e){console.log("下拉选择表格组件赋值",e),this.formOpts.formData.deptCode2=e.name},submitForm:function(){var e=this;this.formOpts.ref.validate((function(t){console.log(88,t),console.log(77,e.formOpts.formData),t&&console.log("最终数据",e.formOpts.formData)}))},resetValue:function(e,t){e.includes("Cascader")?this.formOpts.formData[t]=[]:"descRef"==e?this.formOpts.formData.desc="":this.allRefs[e][0].clear()},resetForm:function(){this.$refs.formAllRefs.resetFieldsSelf()}}},i=a(2),o=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("t-layout-page",[a("t-layout-page-item",[a("t-form",{ref:"formAllRefs",attrs:{"ref-obj":e.formOpts.ref,formOpts:e.formOpts,widthSize:2,"all-ref":e.allRefs},on:{"update:refObj":function(t){return e.$set(e.formOpts,"ref",t)},"update:ref-obj":function(t){return e.$set(e.formOpts,"ref",t)},"update:allRef":function(t){e.allRefs=t},"update:all-ref":function(t){e.allRefs=t}}})],1)],1)}),[],!1,null,null,null);t.default=o.exports}}]);